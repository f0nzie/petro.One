<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Statistics and Text Mining for Oil and Gas Papers from OnePetro Metadata â€¢ petro.One</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Statistics and Text Mining for Oil and Gas Papers from OnePetro Metadata">
<meta property="og:description" content="Application that retrieves papers metadata from the OnePetro website.
    Thousands of papers on oil and gas live in OnePetro. By retrieving metadata 
    from the search queries, a summary of papers that match the
    query words, can be retrieved for further analysis and text mining. There 
    are some statistics and data mining provided such as word cloud plots, keywords 
    frequency, conversion to corpus document, and removal of common usage words.
    OnePetro link: &lt;https://www.onepetro.org/&gt;.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">petro.One</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/artificial_intelligence_evolution.html">Artificial Intelligence over the years</a>
    </li>
    <li>
      <a href="articles/gas_influx_overbalanced.html">Gas Inflow Overbalanced</a>
    </li>
    <li>
      <a href="articles/gas_lift_keywords_variation.html">Gas Lift keywords variation</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/f0nzie/petro.One">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="petro-one" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#petro-one" class="anchor"></a>petro.One</h1></div>

<p>The goal of <strong>petro.One</strong> is providing a reproducible platform for acquiring and analyzing metadata by searching papers on oil and gas from the OnePetro website.</p>
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h2>
<p>The standard way of searching for papers in <a href="https://www.onepetro.org/">OnePetro</a> is using a web browser entering the search terms for a particular paper we are looking for. The result will come as web pages containing dozens, hundreds or thousand of paper titles. We need to browse all the resulting pages to find the papers that have a good match with the subject we are researching. Although it has the capability to export to <em>csv</em> and <em>xls</em> files, they will need to be imported into another application to perform some analysis.</p>
<p>By using some statistical tools available through <code>R</code>, the search could turn in highly profitable in terms of time, matching quality and selection of the papers. The search keywords are entered thorugh the R console and the papers will return in a shape of a dataframe, which is identical to a spreadsheet: rows of paper titles and columns with details from the metadata extracted from the web page. With the dataframe already in our computers we could perform a thorough search and narrow down to the ideal papers for our research.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install <code>petro.One</code> from Github with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("devtools")       # install *devtools* first</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># install from the *master* release branch</span></a>
<a class="sourceLine" id="cb1-4" title="4">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"f0nzie/petro.One"</span>)</a></code></pre></div>
<p>Or, the latest dvelopment version:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># install from the *develop* branch</span></a>
<a class="sourceLine" id="cb2-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"f0nzie/petro.One"</span>, <span class="dt">ref =</span> <span class="st">"develop"</span>)</a></code></pre></div>
<p>Or from <a href="https://cran.r-project.org/">CRAN</a> with:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"petro.One"</span>)</a></code></pre></div>
<p>The package dependencies can be installed with:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># install required packages</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co"># from CRAN</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"tm"</span>,</a>
<a class="sourceLine" id="cb4-4" title="4">                   <span class="st">"wordcloud"</span>,</a>
<a class="sourceLine" id="cb4-5" title="5">                   <span class="st">"urltools"</span>,</a>
<a class="sourceLine" id="cb4-6" title="6">                   <span class="st">"RWeka"</span>,</a>
<a class="sourceLine" id="cb4-7" title="7">                   <span class="st">"tidyverse"</span>,</a>
<a class="sourceLine" id="cb4-8" title="8">                   <span class="st">"data.table"</span></a>
<a class="sourceLine" id="cb4-9" title="9">                   ))</a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co"># from BioConductor</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/source">source</a></span>(<span class="st">"https://bioconductor.org/biocLite.R"</span>)</a>
<a class="sourceLine" id="cb4-13" title="13"><span class="kw">biocLite</span>(<span class="st">"graph"</span>)</a>
<a class="sourceLine" id="cb4-14" title="14"><span class="kw">biocLite</span>(<span class="st">"Rgraphviz"</span>)</a></code></pre></div>
</div>
<div id="what-is-behind-the-paper-search" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-behind-the-paper-search" class="anchor"></a>What is behind the paper search</h2>
<p>A typical OnePetro search URL would look like this:</p>
<pre><code>    https://www.onepetro.org/search?q=neural+network&amp;peer_reviewed=&amp;published_between=&amp;from_year=&amp;to_year=
    </code></pre>
<p>You can see the search string for yourself after you hit enter on a paper search, which could be explained like this:</p>
<table class="table table">
<colgroup>
<col width="11%">
<col width="88%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>domain</td>
<td><a href="https://www.onepetro.org/" class="uri">https://www.onepetro.org/</a></td>
</tr>
<tr class="even">
<td>command</td>
<td>search?</td>
</tr>
<tr class="odd">
<td>q=</td>
<td>parameter that holds the query words. In the example above, it would be <code>q=neural+network</code>. As it is shown, it means search <code>any</code> word.</td>
</tr>
<tr class="even">
<td>peer_reviewed=</td>
<td>parameter switch to get papers than have been only peer reviewed. When it has the value <code>on</code> means that is activated.</td>
</tr>
<tr class="odd">
<td>published_between=</td>
<td>
<em>parameter</em> switch that activates when <code>from_year</code> and <code>to_year</code> have numeric entries.</td>
</tr>
<tr class="even">
<td>from_year=</td>
<td>
<em>parameter</em> to enter the starting year of the search</td>
</tr>
<tr class="odd">
<td>to_year=</td>
<td>
<em>parameter</em> to enter the end year of the search.</td>
</tr>
</tbody>
</table>
<p>There are additional parameters such as:</p>
<table class="table table">
<colgroup>
<col width="6%">
<col width="93%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>start=</td>
<td>indicate the starting page if the resulting search has several</td>
</tr>
<tr class="even">
<td>rows=</td>
<td>indicate the number of rows (papers) to display per page. In the web browser, the options are 10, 50 and 100. Off-browser it could be a number up to 1000.</td>
</tr>
<tr class="odd">
<td>sort=</td>
<td>related to the selector <code>Sort By</code> with options <code>Relevance</code>, <code>Most recent</code> and <code>Highest rated</code>.</td>
</tr>
<tr class="even">
<td>dc_type=</td>
<td>indicates what type of document the paper is.</td>
</tr>
</tbody>
</table>
<p>These are the type of documents:</p>
<pre><code>chapter
conference-paper
general
journal-paper
presentation
media
other
standard</code></pre>
<p>There are other parameters but they will not be used as often as the ones already described.<br>
They key is build a search URL that is recognizable by OnePetro. To do that I wrote a function <code>make_search_url</code> that does just that. Instead of entering the search keywords, how will they be searched, year and type of paper, we enter them from the R console.</p>
</div>
</div>
<div id="examples" class="section level1">
<h1 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h1>
<div id="get-the-number-of-papers-for-the-keyword-neural-network-" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-number-of-papers-for-the-keyword-neural-network-" class="anchor"></a>Get the number of papers for the keyword <em>neural network</em>.</h2>
<p>Letâ€™s say we want to search the word <strong>neural network</strong>. How do we want to perform that search? Paper that contain the word <strong>neural</strong> or the word <strong>network</strong>, or papers that contain exactly the words <strong>neural network</strong>? In the former, we would use the option <code>any</code>, in the latter, <code>all</code>.</p>
<p>The option <code>how = "any"</code> means to search for papers that contain the word <code>neural</code> or the word <code>network</code>. Letâ€™s take a look at the difference in returning results with <code>any</code> and <code>how = all</code> for the same keywords <code>neural network</code>. Here we make of use of two functions in <em>petro.One</em>: <code><a href="reference/make_search_url.html">make_search_url()</a></code> and <code><a href="reference/get_papers_count.html">get_papers_count()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(petro.One)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyverse)</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; -- Attaching packages -------------------------------------- tidyverse 1.2.1 --</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt; v ggplot2 3.1.0     v purrr   0.2.5</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt; v tibble  2.0.0     v dplyr   0.7.8</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt; v tidyr   0.8.2     v stringr 1.3.1</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#&gt; v readr   1.3.1     v forcats 0.3.0</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#&gt; -- Conflicts ----------------------------------------- tidyverse_conflicts() --</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co">#&gt; x dplyr::filter() masks stats::filter()</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></a>
<a class="sourceLine" id="cb7-11" title="11"></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="co"># search any word like "neural" or "network"</span></a>
<a class="sourceLine" id="cb7-13" title="13">url_any &lt;-<span class="st"> </span><span class="kw"><a href="reference/make_search_url.html">make_search_url</a></span>(<span class="dt">query =</span> <span class="st">"neural network"</span>, <span class="dt">how =</span> <span class="st">"any"</span>)</a>
<a class="sourceLine" id="cb7-14" title="14">url_any</a>
<a class="sourceLine" id="cb7-15" title="15"><span class="co">#&gt; [1] "https://www.onepetro.org/search?q=neural+network&amp;peer_reviewed=&amp;published_between=&amp;from_year=&amp;to_year="</span></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="kw"><a href="reference/get_papers_count.html">get_papers_count</a></span>(url_any)</a>
<a class="sourceLine" id="cb7-17" title="17"><span class="co">#&gt; [1] 3931</span></a>
<a class="sourceLine" id="cb7-18" title="18"></a>
<a class="sourceLine" id="cb7-19" title="19"><span class="co"># search for papers that have "neural" and "network" at the same time</span></a>
<a class="sourceLine" id="cb7-20" title="20">url_all &lt;-<span class="st"> </span><span class="kw"><a href="reference/make_search_url.html">make_search_url</a></span>(<span class="dt">query =</span> <span class="st">"neural network"</span>, <span class="dt">how =</span> <span class="st">"all"</span>)</a>
<a class="sourceLine" id="cb7-21" title="21">url_all</a>
<a class="sourceLine" id="cb7-22" title="22"><span class="co">#&gt; [1] "https://www.onepetro.org/search?q=\"neural+network\"&amp;peer_reviewed=&amp;published_between=&amp;from_year=&amp;to_year="</span></a>
<a class="sourceLine" id="cb7-23" title="23"><span class="kw"><a href="reference/get_papers_count.html">get_papers_count</a></span>(url_all)</a>
<a class="sourceLine" id="cb7-24" title="24"><span class="co">#&gt; [1] 3615</span></a></code></pre></div>
</div>
<div id="read-papers-from-from_year-to-to_year" class="section level2">
<h2 class="hasAnchor">
<a href="#read-papers-from-from_year-to-to_year" class="anchor"></a>Read papers from <em>from_year</em> to <em>to_year</em>
</h2>
<p>We can send a query where we specify the <em>starting year</em> and the <em>ending year</em>. In this example the option <code>how = "all"</code> means to search papers that contain <strong>exactly</strong> the words <code>neural network</code> as a difference to <code>any</code> which means search for <code>any</code> occurrence of the words. Of course, using <code>any</code> rather than <code>all</code> will yield many more results. We use two petro.One functions: <code><a href="reference/make_search_url.html">make_search_url()</a></code> to build the OnePetro search URL and <code><a href="reference/onepetro_page_to_dataframe.html">onepetro_page_to_dataframe()</a></code> to put the papers in a table.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(petro.One)</a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co"># neural network papers from 1990 to 1999. Exact phrase</span></a>
<a class="sourceLine" id="cb8-4" title="4">my_url &lt;-<span class="st"> </span><span class="kw"><a href="reference/make_search_url.html">make_search_url</a></span>(<span class="dt">query =</span> <span class="st">"neural network"</span>, </a>
<a class="sourceLine" id="cb8-5" title="5">                          <span class="dt">from_year =</span> <span class="dv">1990</span>, </a>
<a class="sourceLine" id="cb8-6" title="6">                          <span class="dt">to_year   =</span> <span class="dv">1999</span>, </a>
<a class="sourceLine" id="cb8-7" title="7">                          <span class="dt">how =</span> <span class="st">"all"</span>)</a>
<a class="sourceLine" id="cb8-8" title="8"></a>
<a class="sourceLine" id="cb8-9" title="9">df &lt;-<span class="st"> </span><span class="kw"><a href="reference/onepetro_page_to_dataframe.html">onepetro_page_to_dataframe</a></span>(my_url)</a>
<a class="sourceLine" id="cb8-10" title="10">df</a>
<a class="sourceLine" id="cb8-11" title="11"><span class="co">#&gt; # A tibble: 10 x 6</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="co">#&gt;    book_title           paper_id  dc_type  authors              year source</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="co">#&gt;    &lt;fct&gt;                &lt;fct&gt;     &lt;fct&gt;    &lt;chr&gt;               &lt;int&gt; &lt;fct&gt; </span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="co">#&gt;  1 Deconvolution Using~ SEG-1996~ confere~ Essenreiter, Rober~  1996 SEG   </span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="co">#&gt;  2 Neural Network Stac~ SEG-1992~ confere~ Schmidt, Jumndyr, ~  1992 SEG   </span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="co">#&gt;  3 Neural Networks And~ SEG-1995~ confere~ Leggett, Miles, Br~  1995 SEG   </span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="co">#&gt;  4 Seismic Principal C~ SEG-1996~ confere~ Huang, Kou-Yuan, N~  1996 SEG   </span></a>
<a class="sourceLine" id="cb8-18" title="18"><span class="co">#&gt;  5 Drill-Bit Diagnosis~ SPE-1955~ journal~ Arehart, R.A., Exx~  1990 SPE   </span></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="co">#&gt;  6 Inversion of Seismi~ SEG-1992~ confere~ Ro&amp;uml;th, Gunter,~  1992 SEG   </span></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="co">#&gt;  7 Reservoir Character~ SEG-1993~ confere~ An, P., University~  1993 SEG   </span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="co">#&gt;  8 Seismic Attribute C~ SEG-1993~ confere~ Johnston, David H.~  1993 SEG   </span></a>
<a class="sourceLine" id="cb8-22" title="22"><span class="co">#&gt;  9 Neural Networks For~ SEG-1993~ confere~ Hansen, Kim Vejlby~  1993 SEG   </span></a>
<a class="sourceLine" id="cb8-23" title="23"><span class="co">#&gt; 10 First Break Picking~ SEG-1990~ confere~ Wagner, D.E., Amoc~  1990 SEG</span></a></code></pre></div>
<p>And these are the terms that repeat more freqently:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="reference/term_frequency.html">term_frequency</a></span>(df)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">#&gt; # A tibble: 27 x 2</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">#&gt;    word       freq</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co">#&gt;    &lt;chr&gt;     &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="co">#&gt;  1 network      10</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="co">#&gt;  2 neural       10</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt;  3 use           6</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="co">#&gt;  4 seismic       4</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co">#&gt;  5 pick          2</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="co">#&gt;  6 analysi       1</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="co">#&gt;  7 attribut      1</span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="co">#&gt;  8 break         1</span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="co">#&gt;  9 calibr        1</span></a>
<a class="sourceLine" id="cb9-14" title="14"><span class="co">#&gt; 10 character     1</span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="co">#&gt; # ... with 17 more rows</span></a></code></pre></div>
</div>
<div id="get-papers-by-document-type-dc_type" class="section level2">
<h2 class="hasAnchor">
<a href="#get-papers-by-document-type-dc_type" class="anchor"></a>Get papers by document type (<em>dc_type</em>)</h2>
<p>We can also get paper by the type of document. In OnePetro it is called <code>dc_type</code>.</p>
<p>In this example we will be requesting only <code>conference-paper</code> type. Here we add to <code><a href="reference/make_search_url.html">make_search_url()</a></code> the parameter <code>dc_type</code>. Note also that we are adding another parameter <code>rows</code> to get 1000 rows instead of 10, 50 or 100 as the browser allows.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># specify document type = "conference-paper", rows = 1000</span></a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3">my_url &lt;-<span class="st"> </span><span class="kw"><a href="reference/make_search_url.html">make_search_url</a></span>(<span class="dt">query =</span> <span class="st">"artificial intelligence"</span>, </a>
<a class="sourceLine" id="cb10-4" title="4">                          <span class="dt">how =</span> <span class="st">"all"</span>,</a>
<a class="sourceLine" id="cb10-5" title="5">                          <span class="dt">from_year =</span> <span class="dv">1950</span>, </a>
<a class="sourceLine" id="cb10-6" title="6">                          <span class="dt">to_year   =</span> <span class="dv">1980</span>, </a>
<a class="sourceLine" id="cb10-7" title="7">                          <span class="dt">dc_type =</span> <span class="st">"conference-paper"</span>,</a>
<a class="sourceLine" id="cb10-8" title="8">                          <span class="dt">rows =</span> <span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb10-9" title="9"></a>
<a class="sourceLine" id="cb10-10" title="10">(pcount &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_papers_count.html">get_papers_count</a></span>(my_url))</a>
<a class="sourceLine" id="cb10-11" title="11"><span class="co">#&gt; [1] 4</span></a>
<a class="sourceLine" id="cb10-12" title="12">df &lt;-<span class="st"> </span><span class="kw"><a href="reference/onepetro_page_to_dataframe.html">onepetro_page_to_dataframe</a></span>(my_url)</a>
<a class="sourceLine" id="cb10-13" title="13">df</a>
<a class="sourceLine" id="cb10-14" title="14"><span class="co">#&gt; # A tibble: 3 x 6</span></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="co">#&gt;   book_title              paper_id  dc_type   authors           year source</span></a>
<a class="sourceLine" id="cb10-16" title="16"><span class="co">#&gt;   &lt;fct&gt;                   &lt;fct&gt;     &lt;fct&gt;     &lt;chr&gt;            &lt;int&gt; &lt;fct&gt; </span></a>
<a class="sourceLine" id="cb10-17" title="17"><span class="co">#&gt; 1 The Realities Of Radio~ OTC-1788~ conferen~ Moyer, James P.~  1973 OTC   </span></a>
<a class="sourceLine" id="cb10-18" title="18"><span class="co">#&gt; 2 Application of Digital~ SPE-2659~ conferen~ Hall, O.P. Jr.,~  1969 SPE   </span></a>
<a class="sourceLine" id="cb10-19" title="19"><span class="co">#&gt; 3 Computer Recognition O~ SPWLA-19~ conferen~ Schoonover, L.G~  1974 SPWLA</span></a></code></pre></div>
<p>Only 4 on <em>artificial intelligence</em> from 1950 until 1980!</p>
</div>
<div id="finding-the-most-frequent-terms-in-well-test" class="section level2">
<h2 class="hasAnchor">
<a href="#finding-the-most-frequent-terms-in-well-test" class="anchor"></a>Finding the most frequent terms in <em>well test</em>
</h2>
<p>For this example we want to know about <em>conference papers</em> where the words <em>well</em> and <em>test</em> are found together in the papers.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(petro.One)</a>
<a class="sourceLine" id="cb11-2" title="2"></a>
<a class="sourceLine" id="cb11-3" title="3">my_url &lt;-<span class="st"> </span><span class="kw"><a href="reference/make_search_url.html">make_search_url</a></span>(<span class="dt">query =</span> <span class="st">"well test"</span>, </a>
<a class="sourceLine" id="cb11-4" title="4">                          <span class="dt">dc_type =</span> <span class="st">"conference-paper"</span>,</a>
<a class="sourceLine" id="cb11-5" title="5">                          <span class="dt">from_year =</span> <span class="dv">2017</span>, </a>
<a class="sourceLine" id="cb11-6" title="6">                          <span class="dt">to_year   =</span> <span class="dv">2018</span>, </a>
<a class="sourceLine" id="cb11-7" title="7">                          <span class="dt">how =</span> <span class="st">"all"</span>)</a>
<a class="sourceLine" id="cb11-8" title="8"></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="kw"><a href="reference/get_papers_count.html">get_papers_count</a></span>(my_url)      <span class="co"># get the paper count</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="co">#&gt; [1] 956</span></a>
<a class="sourceLine" id="cb11-11" title="11">df &lt;-<span class="st"> </span><span class="kw"><a href="reference/read_multidoc.html">read_multidoc</a></span>(my_url)   <span class="co"># create a dataframe of papers</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/dim">dim</a></span>(df))                <span class="co"># dimension of the dataframe</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="co">#&gt; [1] 956   6</span></a>
<a class="sourceLine" id="cb11-14" title="14"></a>
<a class="sourceLine" id="cb11-15" title="15">(tf &lt;-<span class="st"> </span><span class="kw"><a href="reference/term_frequency.html">term_frequency</a></span>(df))    <span class="co"># create a term frequency table</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt; # A tibble: 1,974 x 2</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="co">#&gt;    word       freq</span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="co">#&gt;    &lt;chr&gt;     &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="co">#&gt;  1 reservoir   325</span></a>
<a class="sourceLine" id="cb11-20" title="20"><span class="co">#&gt;  2 well        269</span></a>
<a class="sourceLine" id="cb11-21" title="21"><span class="co">#&gt;  3 field       223</span></a>
<a class="sourceLine" id="cb11-22" title="22"><span class="co">#&gt;  4 model       161</span></a>
<a class="sourceLine" id="cb11-23" title="23"><span class="co">#&gt;  5 fractur     160</span></a>
<a class="sourceLine" id="cb11-24" title="24"><span class="co">#&gt;  6 gas         152</span></a>
<a class="sourceLine" id="cb11-25" title="25"><span class="co">#&gt;  7 case        139</span></a>
<a class="sourceLine" id="cb11-26" title="26"><span class="co">#&gt;  8 use         136</span></a>
<a class="sourceLine" id="cb11-27" title="27"><span class="co">#&gt;  9 product     135</span></a>
<a class="sourceLine" id="cb11-28" title="28"><span class="co">#&gt; 10 studi       124</span></a>
<a class="sourceLine" id="cb11-29" title="29"><span class="co">#&gt; # ... with 1,964 more rows</span></a>
<a class="sourceLine" id="cb11-30" title="30"></a>
<a class="sourceLine" id="cb11-31" title="31"><span class="co"># calculate the minimum frequency for, let's say, the first 20th term</span></a>
<a class="sourceLine" id="cb11-32" title="32">min_freq &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">min</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(tf, <span class="dv">20</span>)<span class="op">$</span>freq)</a></code></pre></div>
<div id="most-frequent-terms-in-well-test" class="section level3">
<h3 class="hasAnchor">
<a href="#most-frequent-terms-in-well-test" class="anchor"></a>Most frequent terms in <em>well test</em>
</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(min_freq)</a>
<a class="sourceLine" id="cb12-2" title="2"><span class="co">#&gt; [1] 76</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co"># plot most frequent terms</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="kw"><a href="reference/plot_bars.html">plot_bars</a></span>(df, <span class="dt">min.freq =</span> min_freq)</a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png" width="700"></p>
</div>
<div id="how-do-the-most-frequent-terms-relate-each-other" class="section level3">
<h3 class="hasAnchor">
<a href="#how-do-the-most-frequent-terms-relate-each-other" class="anchor"></a>How do the most frequent terms relate each other</h3>
<p>Now, it is not enough for us to know what terms are the more repeating but how those freqent terms relate to each other. In the following plot you will see that the strength of the relationship between terms is reflected by the thickness of the connection lines.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw"><a href="reference/plot_relationships.html">plot_relationships</a></span>(df, <span class="dt">min.freq =</span> min_freq, <span class="dt">threshold =</span> <span class="fl">0.075</span>)</a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png" width="700"></p>
<p>We can see that <em>wells</em> and <em>well</em> are connected strongly to <em>horizontal</em>, <em>transient</em>, <em>pressure</em>, <em>flow</em>, <em>testing</em>, <em>reservoirs</em>, <em>fracture</em>, and <em>analysis</em>. The rest of the words are frequent but not very much connected.</p>
</div>
</div>
<div id="summaries" class="section level2">
<h2 class="hasAnchor">
<a href="#summaries" class="anchor"></a>Summaries</h2>
<p>The summary functions allow us to group the papers by a preferred group:</p>
<ul>
<li>by type of document</li>
<li>by publisher</li>
<li>by publication</li>
<li>by year</li>
</ul>
<p>This will give you a summary of the count not the papers themselves.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(petro.One)</a>
<a class="sourceLine" id="cb14-2" title="2"></a>
<a class="sourceLine" id="cb14-3" title="3">my_url &lt;-<span class="st"> </span><span class="kw"><a href="reference/make_search_url.html">make_search_url</a></span>(<span class="dt">query =</span> <span class="st">"artificial intelligence"</span>, </a>
<a class="sourceLine" id="cb14-4" title="4">                          <span class="dt">how =</span> <span class="st">"all"</span>)</a></code></pre></div>
<div id="by-year-of-publication" class="section level3">
<h3 class="hasAnchor">
<a href="#by-year-of-publication" class="anchor"></a>By year of publication</h3>
<table class="table table">
<thead><tr class="header">
<th align="left">name</th>
<th align="right">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Since 2019</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Since 2018</td>
<td align="right">416</td>
</tr>
<tr class="odd">
<td align="left">Since 2017</td>
<td align="right">629</td>
</tr>
<tr class="even">
<td align="left">Since 2016</td>
<td align="right">807</td>
</tr>
<tr class="odd">
<td align="left">Since 2015</td>
<td align="right">953</td>
</tr>
<tr class="even">
<td align="left">Since 2014</td>
<td align="right">1056</td>
</tr>
<tr class="odd">
<td align="left">Since 2013</td>
<td align="right">1194</td>
</tr>
<tr class="even">
<td align="left">Since 2012</td>
<td align="right">1324</td>
</tr>
<tr class="odd">
<td align="left">Since 2011</td>
<td align="right">1433</td>
</tr>
<tr class="even">
<td align="left">Since 2010</td>
<td align="right">1549</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=petro.One">https://â€‹cloud.r-project.org/â€‹package=petro.One</a>
</li>
<li>Browse source code at <br><a href="https://github.com/f0nzie/petro.One">https://â€‹github.com/â€‹f0nzie/â€‹petro.One</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Alfonso R. Reyes <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/f0nzie/petro.One"><img src="https://travis-ci.org/f0nzie/petro.One.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/gh/f0nzie/petro.One"><img src="https://codecov.io/gh/f0nzie/petro.One/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Alfonso R. Reyes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
